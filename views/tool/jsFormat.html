<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>JavaScript加密,压缩,格式化工具</title>
<link rel="stylesheet" href="css/style.css">
<script src="js/jquery-1.8.3.min.js"></script>
<script>
(function($) { 
$(function(){
	var copybtn = $("#copy").find(".btn");
	$("#copy").hover(function(){
		copybtn.addClass("btnhover");	
	},function(){
		copybtn.removeClass("btnhover");	
	});	
	
	$("#empty").click(function(){
		$('#ratio').html('');
		$('#content').val('');
		$('#content').select();
	});
	
	window.__oncopy = function(){
		alert("复制成功");
		return $('#content').val();
	};
	
});
})(jQuery);
</script>
<script src="js/init.js"></script>
<script src="js/Base.js"></script>
<script src="js/JsFormat.js"></script>
<script src="js/HtmlFormat.js"></script>
</head>

<body style="background:#fff;">
<div id="main">
    <div id="up">
        <div id="line"></div>
        <div class="input">
        <textarea id="content" name="content" cols="20" rows="20" onfocus="" onclick="scrollall()" onchange="linekeyup()" onkeydown="linekeyup(event)" onscroll="scrollii()" onblur="" spellcheck="false" placeholder="请粘贴您的JS代码">
	$("#stop").toggle(function(){
		$(".logo").css("animation-play-state","paused");
		$("#shadow").css("animation-play-state","paused");
	},function(){
		$(".logo").css("animation-play-state","running");
		$("#shadow").css("animation-play-state","running");
	});
	

	if(localStorage.speed){ 
		speed = localStorage.speed
	}else{
		speed = 5;	
	}
	
	$("#speed").val(speed).blur(function(){
		localStorage.speed = $(this).val();
		location.reload();
	});
        </textarea>
        </div>
    </div>
    <div id="commands">
    	<table>
        <tr>
        <td>
        <select id="tabsize" style="float:left;margin-top:-1px">
          <option value="1">制表符缩进</option>
          <option value="2">2个空格缩进</option>
          <option value="4" selected="selected">4个空格缩进</option>
          <option value="8">8个空格缩进</option>
        </select>
    	<button onclick="$('ratio').innerHTML='';return FormatCode();" class="btnb">格式化</button>
        <button onclick="size = $('content').value.length; pack_js(0); $('ratio').innerHTML='压缩率：<span class=green>'+($('content').value.length/size*100).toFixed(2)+'%</span>'" class="btn">普通压缩</button>
        <button onclick="size = $('content').value.length; pack_js(1); $('ratio').innerHTML='压缩率：<span class=green>'+($('content').value.length/size*100).toFixed(2)+'%</span>'" class="btn">eval压缩</button>
        <button onclick="$('ratio').innerHTML='';decode();" class="btn">eval还原</button>
        <span id="copy"><button class="btn">复制</button><object id="objectID-0" width="56" height="30" type="application/x-shockwave-flash" data="copy.swf"><param name="wmode" value="transparent"><param name="movie" value="copy.swf"><a href="http://www.adobe.com/go/getflash">需要安装Flash后才能使用</a></object></span>
        </td>
        <td align="right">
        <span id="ratio"></span>
        <button class="btn" id="empty">清空</button>
        </td>
        </tr>
        </table>
    </div>
</div>
</body> 
</html>